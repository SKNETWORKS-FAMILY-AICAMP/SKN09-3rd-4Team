### SKN09-3rd-4Team 
### - LLM을 연동한 내외부 문서 기반 질의 응답 시스템

<br>

# 📌 목차

1. [팀 소개](#1️.-팀-소개)  
2. [프로젝트 개요](#2️.-프로젝트-개요)  
3. [기술 스택](#3️.-기술-스택-&-사용-모델)  
4. [시스템 아키텍처](#4️.-시스템-아키텍처)
5. [WBS](#5️.-wbs)
6. [요구사항 명세서](#6️.-요구사항-명세서) 
7. [데이터 및 전처리](#7️.-데이터-및-전처리-요약)
8. [DB 연동 구현 코드](#8️.-DB-연동-구현-코드)
9. [테스트 계획 및 결과 보고서](#9.-테스트-계획-및-결과-보고서)
10. [진행 과정 중 프로그램 개선 노력](#10.-진행-과정-중-프로그램-개선-노력)  
11. [수행 결과](#11.-수행-결과)
12. [한 줄 회고](#12.-한-줄-회고)

<br>

----

# 1️. **팀 소개**
### 팀 명 : PoliSupport Lab 🧪👨‍🔬👩‍🔬
-  "Policy + Support + Lab"으로, 보험 약관에 대한 연구와 개발을 통해 **사용자가 자신에게 적합한 보험을 쉽게 찾을 수 있도록** 돕고, 기존에 가입한 **보험에 대한 정보도 쉽게 확인할 수 있는 시스템**을 개발하는 팀입니다.
  
<br>

### 팀 원 소개 :

<dir alige="center">

|김도연|김우중|김정훈|이윤재|
|-------|-------|---------|-------|
| [김도연](https://github.com/doyeon158)  | [김우중](https://github.com/kwj9942)  | [김정훈](https://github.com/Zayden0815)  | [이윤재](https://github.com/dadambi116)   |

</dir>

<br>

---

# 2️. **프로젝트 개요**
### 2-1) 프로젝트 개요

Polict_Support Chatbot을 통해 
- 사용자가 보험 상품을 쉽게 이해하고, 자신에게 적합한 보험을 찾도록 지원
- 기존 가입된 보험의 보장 내용을 명확히 파악할 수 있도록 지원

### 2-2) 필요성 및 배경

### **❓ 보험 미가입 사유**
![image](https://github.com/user-attachments/assets/651b2cc0-423a-4dbc-8232-1b6e921bc73a)
- 출처 | https://kiri.or.kr/report/downloadFile.do?docId=499489
- 각 연령별로 보험 미가입 사유에 편차가 있으나, 20대 이하의 경우 '보상범위 등 상품을 잘 몰라서'로 응답
<br>

### **💡 보험사 챗봇 필요성 증가**
![스크린샷 2025-03-27 131355](https://github.com/user-attachments/assets/7f840f10-535c-4fe2-aceb-6047d4360b4e)
- 출처 | https://www.fntimes.com/html/view.php?ud=202402250021502382dd55077bc2_18
- 보험사 CEO, AI 활용 핵심 분야로 소비자 상담 및 고객 보장 분석에 초점
- 보험사 내 AI 도입율이 20% 미만으로 느끼고 있었지만 최대 80%까지는 도입을 추진하는 것으로 나타남

<br>

### 📑 요약

|이유||챗봇 상담|
|--|:--:|:--:|
|💸  **비용 부담** :보험료 부담, 경제적 이유<br>❓ **정보 부족** :잘 모름, 이해 어려움<br>🌀  **복잡함** :상품이 너무 많고 어려움<br>🤷 **관심 부족** :아직 필요성을 못 느낌<br>🕒 **시간 부족** :상담받을 시간 없음<br>📑 **약관 스트레스** :약관이 복잡하고 어려움<br>📞 **상담 불편** :전화 상담의 부담 | ➡️ |**챗봇 상담 <br> 빠르고 간편한 해결✅**|

<br>

### 2-3) 목표

이 프로젝트의 주요 목표는 **사용자 친화적인 보험 정보 서비스를 제공하는 것**입니다.
- **맞춤형 보험 추천**: 보험에 처음 가입하려는 사용자가 자신의 니즈에 맞는 최적의 보험 상품을 찾을 수 있도록 지원

- **보장 범위 안내**: 사용자가 가입한 보험의 보장 내역을 한눈에 확인하고 이해할 수 있도록 분석 및 제공

- **보험 정보 접근성 개선**: 어려운 보험 약관을 쉽게 이해할 수 있도록 정리 및 시각화하여 사용자 경험 향상


<br>

---



# 3️. **기술 스택 & 사용 모델**
<br>

|항목|내용|
|:---:|---|
|개발 도구| ![VS Code](https://img.shields.io/badge/-VS%20Code-007ACC?logo=visualstudiocode&logoColor=white) ![RunPod](https://img.shields.io/badge/-RunPod-5F43DC?logo=cloud&logoColor=white)|
|개발 언어| ![Python](https://img.shields.io/badge/-Python-3776AB?logo=python&logoColor=white)|
|Vector DB|![FAISS](https://img.shields.io/badge/-FAISS-009999?logo=meta&logoColor=white)|
|사용 모델| ![OpenAI-GPT4](https://img.shields.io/badge/GPT--3.5--Turbo-00A67E?style=flat&logo=openai&logoColor=white) ![HuggingFace](https://img.shields.io/badge/%F0%9F%A4%97%20HF_transformer%20-yellow) ![Langchain](https://img.shields.io/badge/LangChain-FF9900?style=flat&logo=Chainlink&logoColor=white)|
|인터페이스| ![streamlit](https://img.shields.io/badge/Streamlit-FF4B4B?style=flat&logo=Streamlit&logoColor=white) |


<br>

---



# 4️. **시스템 아키텍처**

![struc](https://github.com/user-attachments/assets/f7385a13-ad8d-4542-a329-2fc46d896881)


<br>

---



# 5️. **WBS**

![WBS](https://github.com/user-attachments/assets/72a19c41-a440-469d-883b-64da0609a80b)


<br>

---


# 6️. **요구사항 명세서**

## 6-1) 사용자 페르소나

![persona](https://github.com/user-attachments/assets/9fc0297f-3460-46d3-8cbd-d8f4b73ea6b2)



<br>

## 6-2) 요구사항 명세서
| No. | 기능 요구사항                                    | 부가 설명                            |
|-----|--------------------------------------------------|-------------------------------------|
|1|사용자는 보험에 관련한 질문을 자연어로 입력할 수 있어야 한다.|자연어 형태로 자유 질문 입력 가능|
|2|사용자가 가입한 보험사 및 상품(예: 하나손해보험, 롯데손해보험)을 선택해야한다.|Selectbox 등으로 제공, 해당 정보는 유사도 검색 시 검색 쿼리에 포함|
|3|챗봇은 보험 약관 임베딩 DB에서 유사 문서를 검색한 후, 해당 문서를 기반으로 LLM이 응답을 생성해야 한다.|벡터DB에서 유사도 Top-K 문서 검색, Prompt에 삽입|
|4|모든 사용자 질문 및 챗봇 응답은 대화 기록으로 저장한다.||
|5|챗봇은 필요시 보험사 공식 사이트 링크, 또는 상담사 전화번호 등의 정보를 제공해야 한다.|보험사 링크, 전화번호 또는 문의 양식 버튼|

<br>

---



# 7️. **데이터 및 전처리**

<br>

---


# 8. DB 연동 구현 코드
- VectorDB: 임베딩된 보험 약관 저장
  - 사용 툴: FAISS or ChromaDB
  - 검색: cosine similarity 기반 유사도
  - [코드 링크](https://)

<br>

---


# 9. 테스트 계획 및 결과 보고서
- 테스트 시나리오
  - 다양한 보험에 대해 질문 (자동차, 손해, 치아, 암보험 등)
  - 질문 -> 해당 약관 내용 포함 여부
  - 부적절한 질문 -> 안내 메시지 제공 여부
  - 평균 응답 속도 확인
 
- 테스트 결과 요약

| No. | 테스트 문장       | 응답한 문장        | 원하는 답변        | 정답 여부 | 응답 속도 |
|-----|-------------------|---------------------|--------------------|-----------|-----------|
| 1 | 업무용 차량 사고로 인해 고객 미팅을 놓치고 손해가 발생했어요. 이 부분도 보상되나요? | . |(업무용자동차보험) 순수 영업상 손해나 기회손실은 보험 보상 대상에 포함되지 않음. | T/F | xx 초 |
| 2 | 국내 여행지에서 식중독 걸려서 병원 다녀왔는데 보상되나요? | . |(국내여행보험)식중독도 여행 중 발생한 질병으로 간주되어 의료비 보상 가능 | T/F | xx 초 |
| 3 | 공장에서 전기 점검 중 감전사고로 팔에 화상을 입었고 2주 입원했습니다. 이 경우 보험금 청구가 가능한가요? | . | 감전사고 상해 특별약관에 따라, 보험기간 중 발생한 감전사고로 인한 상해는 보험금 지급 가능| T/F | xx 초 |
| 4 | 치아보험은 과거 충치 이력 있으면 가입이 안 되나요? | . | 기존 충치 이력이 있다면 그 치아는 보장 제외되지만, 완치 후 새로운 충치가 생긴 경우에는 보장이 가능.| T/F | xx 초 |
| 5 | 암 수술 후 재활치료도 보장되나요? | . | 암 주요재활치료비는 급여 항목에 대해 1일 1회, 연간 10회 한도로 보장. | T/F | xx 초 |
| 6 | 내 친구가 이번에 실비 다 타먹었는데, 나도 방법 좀 알려줘요. | . | 보험금 청구는 정당한 사유에 의해 가능하며, 부정청구를 유도하거나 안내드릴 수 없습니다. | T/F | xx 초 |


<br>

---


# 10. 진행 과정 중 프로그램 개선 노력

- 속도 개선

| No.       | 개선 내용        | 설명                        | 개선 결과                  |
|-----------|------------------|-----------------------------|----------------------------|
| 1 | 저장 DB 교체  | chroma DB -> FAISS DB |  pdf 1 문서 저장 속도 (예상 3시간) -> 1시간  |



- 응답 기능 개선

| No.| 개선 내용        | 설명                            | 실제 응답                     |
|----|------------------|----------------------------------|-------------------------------|
| 0 | 테스트 문장      |  |  "경주 여행 중 넘어져 치아를 부러졌는데 보철비도 보상되나요?" |
| 2 | 임베딩 모델 교체  | 질문 및 문서 임베딩 처리         | . |
| 3 | 프롬프트 엔지니어링 | llm 모델에 프롬프트 명시  | . |
| 4 | 파인튜닝 | ...  | . |
| 5 | 프롬프트 엔지니어링 | 사용자 선택 보험을 프롬프트에 추가 | . |

<br>

---


# 11. 수행결과

- 기능 구성:
  - 질문 입력 창
  - 보험사/상품 선택 드롭다운
  - 챗봇 응답 출력
  - 상담사 연결 버튼
  - 피드백 버튼 (“도움이 되었나요?”)
  - 대화 기록 저장 및 확인

<br>

---


# 12. 한줄 회고
김도연: <br>
김우중: <br>
김정훈: <br>
이윤재: 보험사 챗봇 개발을 위한 적합한 임베딩 및 LLM 모델을 찾는 과정에서 여러 모델을 비교하며 어려움을 겪었고, 앞으로는 테스크에 맞는 모델을 선택하는 방법에 대해 깊이 고민해야겠다는 생각이 들었다.<br>

